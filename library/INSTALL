# run the following files in the same directory this file is in

if true; then
    # works for ubuntu 14.04.5

    # prerequisites
    sudo apt-get update
    sudo add-apt-repository universe
    sudo apt-get update
    sudo apt-get -y install autoconf
    sudo apt-get -y install check
    sudo apt-get -y install libtool libtool-doc
    sudo apt-get -y install inotify-tools

    autoreconf --install
    cp -pi build-aux/install-sh .
    ./configure
    make
    make check
    sudo make install
    sudo ldconfig
    sudo cp src/roman.h /usr/local/include/

    if false; then
        # The following loop automatically (re)runs the tests
        # when any file changes in the src or tests directories.
        while inotifywait -r -e modify src tests; do
            make
            make check
            cat tests/test-suite.log
        done
    fi
fi

if false; then
    # works for ubuntu 16.04

    # prerequisites
    sudo apt-get update
    sudo add-apt-repository universe
    sudo apt-get update
    sudo apt-get -y install autoconf
    sudo apt-get -y install check
    sudo apt-get -y install libtool libtool-bin libtool-doc

    autoreconf --install
    cp -pi build-aux/install-sh .
    ./configure
    make
    make check
    sudo make install
    sudo ldconfig
    sudo cp src/roman.h /usr/local/include/

    if false; then
        # The following loop automatically (re)runs the tests
        # when any file changes in the src or tests directories.
        while inotifywait -r -e modify src tests; do
            make
            make check
            cat tests/test-suite.log
        done
    fi
fi
